<html>
<head>
  <title>js-diagram-to-img</title>
  <script type="text/javascript" src="bundle.js" charset="utf-8"></script>
  <link href="../vendor/normalize.css/normalize.css" media="screen" rel="stylesheet" type="text/css">
</head>
<body>
  <div>
    <div style="width: 452px;">
      <p><a href="https://github.com/chartjs/Chart.js/tree/master/samples">https://github.com/chartjs/Chart.js/tree/master/samples</a></p>
      <canvas id="canvas" ></canvas>
    </div>
    <div>
      <div>
        <div><input type="submit" id="encode" value="encode"></div>
      </div>
      <div>
        <textarea id="output" style="width: 400px; height: 200px;"></textarea>
        <div><input type="submit" id="apply" value="apply"></div>
      </div>
      <div>
        <img src="" id="img">
      </div>
    </div>
  </div>
  <script>

    var $ = Module.jQuery;

    window.chartColors = {
      red: 'rgb(255, 99, 132)',
      orange: 'rgb(255, 159, 64)',
      yellow: 'rgb(255, 205, 86)',
      green: 'rgb(75, 192, 192)',
      blue: 'rgb(54, 162, 235)',
      purple: 'rgb(153, 102, 255)',
      grey: 'rgb(231,233,237)'
    };

    window.randomScalingFactor = function() {
      return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
    }

    var color = Chart.helpers.color;
    var scatterChartData = {
        datasets: [{
          borderColor: window.chartColors.red,
          backgroundColor: color(window.chartColors.red).alpha(0.5).rgbString(),
            label: "V(node2)",
      data: [{
        x: 1,
        y: -1.711e-2,
      }, {
        x: 1.26,
        y: -2.708e-2,
      }, {
        x: 1.58,
        y: -4.285e-2,
      }, {
        x: 2.0,
        y: -6.772e-2,
      }, {
        x: 2.51,
        y: -1.068e-1,
      }, {
        x: 3.16,
        y: -1.681e-1,
      }, {
        x: 3.98,
        y: -2.635e-1,
      }, {
        x: 5.01,
        y: -4.106e-1,
      }, {
        x: 6.31,
        y: -6.339e-1,
      }, {
        x: 7.94,
        y: -9.659e-1,
      }, {
        x: 10.00,
        y: -1.445,
      }, {
        x: 12.6,
        y: -2.110,
      }, {
        x: 15.8,
        y: -2.992,
      }, {
        x: 20.0,
        y: -4.102,
      }, {
        x: 25.1,
        y: -5.429,
      }, {
        x: 31.6,
        y: -6.944,
      }, {
        x: 39.8,
        y: -8.607,
      }, {
        x: 50.1,
        y: -1.038e1,
      }, {
        x: 63.1,
        y: -1.223e1,
      }, {
        x: 79.4,
        y: -1.413e1,
      }, {
        x: 100.00,
        y: -1.607e1,
      }, {
        x: 126,
        y: -1.803e1,
      }, {
        x: 158,
        y: -2e1,
      }, {
        x: 200,
        y: -2.199e1,
      }, {
        x: 251,
        y: -2.398e1,
      }, {
        x: 316,
        y: -2.597e1,
      }, {
        x: 398,
        y: -2.797e1,
      }, {
        x: 501,
        y: -2.996e1,
      }, {
        x: 631,
        y: -3.196e1,
      }, {
        x: 794,
        y: -3.396e1,
      }, {
        x: 1000,
        y: -3.596e1,
      },]
        }]
    };

    var $ = Module.jQuery;

    window.onload = function() {
        var ctx = document.getElementById("canvas").getContext("2d");
        window.myScatter = Chart.Scatter(ctx, {
          data: scatterChartData,
          options: {
            title: {
                  display: true,
                  text: 'Chart.js Scatter Chart - Logarithmic X-Axis'
              },
              scales: {
                xAxes: [{
                  type: 'logarithmic',
                  position: 'bottom',
                  ticks: {
                    userCallback: function(tick) {
                      var remain = tick / (Math.pow(10, Math.floor(Chart.helpers.log10(tick))));
                      if (remain === 1 || remain === 2 || remain === 5) {
                        return tick.toString() + "Hz";
                      }
                      return '';
                    },
                  },
                  scaleLabel: {
                    labelString: 'Frequency',
                    display: true,
                  }
                }],
                yAxes: [{
                  type: 'linear',
                  ticks: {
                    userCallback: function(tick) {
                      return tick.toString() + "dB";
                    }
                  },
                  scaleLabel: {
                    labelString: 'Voltage',
                    display: true
                  }
                }]
              }
            }
        });
    };

    Module.jQuery(Module.onload);

  </script>
</body>
</html>
